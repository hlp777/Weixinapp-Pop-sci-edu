<!--pages/detail/detail.wxml-->
<view class="page">
  <!-- é¡¶éƒ¨å¯¼èˆªæ  -->
  <view class="header">
    <view class="header-title">{{article.title}}</view>
  </view>

  <!-- å†…å®¹åŒºåŸŸ -->
  <view class="content">
    <!-- å°é¢å›¾ç‰‡ -->
    <image class="hero" src="{{article.image}}" mode="aspectFill" />

    <!-- æ–‡ç« ä¿¡æ¯ -->
    <view class="article">
      <view class="article-title">{{article.title}}</view>
      <view class="article-meta">
        ä½œè€…ï¼š{{article.author}}ï½œå‘å¸ƒæ—¶é—´ï¼š{{article.date}}ï½œç‚¹å‡» {{article.clickCount}}
      </view>
      <view class="article-content">{{article.content}}</view>
      
      <!-- æ“ä½œæŒ‰é’® -->
      <view class="actions">
        <button class="btn" bindtap="toggleLike" data-liked="{{article.liked}}">
          ğŸ‘ èµ {{article.likeCount}}
        </button>
        <button class="btn" bindtap="toggleFavorite" data-favorited="{{article.favorited}}">
          â­ {{article.favorited ? 'å·²æ”¶è—' : 'æ”¶è—'}}
        </button>
      </view>
    </view>

    <!-- ç›¸å…³è§†é¢‘ -->
    <view class="article" wx:if="{{article.video}}">
      <view class="section-title">ç›¸å…³è§†é¢‘</view>
      <view class="video-container">
        <video class="video" src="{{article.video}}" controls poster="{{article.videoPoster}}"></video>
      </view>
    </view>

    <!-- ç›¸å…³å›¾ç‰‡ -->
    <view class="article" wx:if="{{article.gallery.length > 0}}">
      <view class="section-title">ç›¸å…³å›¾ç‰‡</view>
      <scroll-view class="gallery" scroll-x="true">
        <view class="gallery-item" wx:for="{{article.gallery}}" wx:key="index">
          <image class="gallery-image" src="{{item}}" mode="aspectFill" bindtap="previewImage" data-url="{{item}}" data-urls="{{article.gallery}}" />
        </view>
      </scroll-view>
    </view>

    <!-- ä¸Šä¸€ç¯‡/ä¸‹ä¸€ç¯‡ -->
    <view class="navigation">
      <button class="btn" bindtap="navigateToPrev" wx:if="{{prevArticle}}">ä¸Šä¸€ç¯‡</button>
      <button class="btn" bindtap="navigateToNext" wx:if="{{nextArticle}}">ä¸‹ä¸€ç¯‡</button>
    </view>
  </view>

  <!-- åº•éƒ¨æ—¶é—´æ˜¾ç¤º -->
  <view class="footer">
    <view class="time">{{currentTime}}</view>
  </view>
</view>
