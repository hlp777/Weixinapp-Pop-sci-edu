<!--pages/profile/profile.wxml-->
<view class="page">
  <!-- é¡¶éƒ¨å¯¼èˆªæ  -->
  <view class="header">
    <view class="header-title">ä¸ªäººä¸­å¿ƒ</view>
  </view>

  <!-- å†…å®¹åŒºåŸŸ -->
  <view class="content">
    <!-- ç”¨æˆ·ä¿¡æ¯åŒº -->
    <view class="user-info">
      <view class="avatar">{{userInfo.avatar}}</view>
      <view class="user-details">
        <view class="username">{{userInfo.name}}</view>
        <view class="badge">ç­çº§ï¼š{{userInfo.class}}</view>
      </view>
    </view>

    <!-- ç»Ÿè®¡ä¿¡æ¯ -->
    <view class="stats">
      <view class="stat-item">
        <view class="stat-number">{{stats.quizCount}}</view>
        <view class="stat-label">ç­”é¢˜æ¬¡æ•°</view>
      </view>
      <view class="stat-item">
        <view class="stat-number">{{stats.bestScore}}</view>
        <view class="stat-label">æœ€é«˜åˆ†</view>
      </view>
      <view class="stat-item">
        <view class="stat-number">{{stats.favoriteCount}}</view>
        <view class="stat-label">æ”¶è—æ•°</view>
      </view>
    </view>

    <!-- æˆ‘çš„æ”¶è— -->
    <view class="section">
      <view class="section-title">æˆ‘çš„æ”¶è—</view>
      <view class="favorite-list">
        <view class="favorite-item" wx:for="{{favorites}}" wx:key="id" bindtap="navigateToDetail" data-id="{{item.id}}">
          <image class="favorite-thumb" src="{{item.image}}" mode="aspectFill" />
          <view class="favorite-meta">
            <view class="favorite-title">{{item.title}}</view>
            <view class="favorite-desc">{{item.description}}</view>
            <view class="favorite-stats">
              <text>ç‚¹å‡» {{item.clickCount}}</text>
              <text>æ”¶è—</text>
            </view>
          </view>
        </view>
      </view>
    </view>

    <!-- ç­”é¢˜è®°å½• -->
    <view class="section">
      <view class="section-title">æœ€è¿‘ç­”é¢˜è®°å½•</view>
      <view class="quiz-records">
        <view class="record-item" wx:for="{{quizRecords}}" wx:key="id">
          <view class="record-score">{{item.score}}åˆ†</view>
          <view class="record-details">
            <view class="record-stats">æ­£ç¡® {{item.correctCount}} é¢˜ï½œé”™è¯¯ {{item.wrongCount}} é¢˜</view>
            <view class="record-date">{{item.date}}</view>
          </view>
        </view>
      </view>
    </view>

    <!-- åŠŸèƒ½èœå• -->
    <view class="menu">
      <view class="menu-item" bindtap="showAbout">
        <view class="menu-icon">â„¹ï¸</view>
        <view class="menu-text">å…³äºæˆ‘ä»¬</view>
        <view class="menu-arrow">></view>
      </view>
      <view class="menu-item" bindtap="clearData">
        <view class="menu-icon">ğŸ—‘ï¸</view>
        <view class="menu-text">æ¸…é™¤æ•°æ®</view>
        <view class="menu-arrow">></view>
      </view>
    </view>
  </view>

  <!-- åº•éƒ¨æ—¶é—´æ˜¾ç¤º -->
  <view class="footer">
    <view class="time">{{currentTime}}</view>
  </view>
</view>
